<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A Framework for Consensus Partitioning • cola</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="A Framework for Consensus Partitioning">
<meta property="og:description" content="Subgroup classification is a basic task in
  genomic data analysis, especially for gene expression and DNA methylation data
  analysis. It can also be used to test the agreement to known clinical
  annotations, or to test whether there exist significant batch effects. The
  cola package provides a general framework for subgroup classification by
  consensus partitioning. It has the following features: 1. It modularizes the
  consensus partitioning processes that various methods can be easily
  integrated. 2. It provides rich visualizations for interpreting the results.
  3. It allows running multiple methods at the same time and provides
  functionalities to compare results straightforwardly. 4. It provides a new
  method to extract features which are more efficient to separate subgroups. 5.
  It generates detailed reports for the complete analysis.">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">cola</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="articles/cola.html">Get started</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/a_quick_start.html">UNKNOWN TITLE</a>
    </li>
    <li>
      <a href="articles/functional_enrichment.html">UNKNOWN TITLE</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/jokergoo/cola">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="cola-a-general-framework-for-consensus-partitioning" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#cola-a-general-framework-for-consensus-partitioning" class="anchor"></a>cola: A General Framework for Consensus Partitioning <img src="https://user-images.githubusercontent.com/449218/54158555-03e3af80-444b-11e9-9773-070823101263.png" width="250" align="right" style="border:4px solid black;">
</h1></div>

<div id="features" class="section level2">
<h2 class="hasAnchor">
<a href="#features" class="anchor"></a>Features</h2>
<ol>
<li>It modularizes the consensus clustering processes that various methods can be easily integrated in different steps of the analysis.</li>
<li>It provides rich visualizations for intepreting the results.</li>
<li>It allows running multiple methods at the same time and provides functionalities to compare results in a straightforward way.</li>
<li>It provides a new method to extract features which are more efficient to separate subgroups.</li>
<li>It generates detailed HTML reports for the complete analysis.</li>
</ol>
</div>
<div id="install" class="section level2">
<h2 class="hasAnchor">
<a href="#install" class="anchor"></a>Install</h2>
<p><em>cola</em> is available on <a href="http://bioconductor.org/packages/devel/bioc/html/cola.html">Bioconductor</a>, you can install it by:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">if</span> (<span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/ns-load.html">requireNamespace</a></span>(<span class="st">"BiocManager"</span>, <span class="dt">quietly =</span> <span class="ot">TRUE</span>))
    <span class="kw"><a href="https://rdrr.io/r/utils/install.packages.html">install.packages</a></span>(<span class="st">"BiocManager"</span>)
BiocManager<span class="op">::</span><span class="kw"><a href="https://rdrr.io/pkg/BiocManager/man/install.html">install</a></span>(<span class="st">"cola"</span>)</code></pre></div>
<p>The latest version can be installed directly from GitHub:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span>(devtools)
<span class="kw"><a href="https://rdrr.io/pkg/devtools/man/remote-reexports.html">install_github</a></span>(<span class="st">"jokergoo/cola"</span>)</code></pre></div>
</div>
<div id="links" class="section level2">
<h2 class="hasAnchor">
<a href="#links" class="anchor"></a>Links</h2>
<p>Examples for <em>cola</em> analysis can be found at <a href="https://jokergoo.github.io/cola_examples/" class="uri">https://jokergoo.github.io/cola_examples/</a> and <a href="https://jokergoo.github.io/cola_collection/" class="uri">https://jokergoo.github.io/cola_collection/</a>.</p>
<p>Online documentation is at <a href="https://jokergoo.github.io/cola" class="uri">https://jokergoo.github.io/cola</a>.</p>
<p>Supplementary for the <em>cola</em> manuscript is at <a href="https://jokergoo.github.io/cola_supplementary" class="uri">https://jokergoo.github.io/cola_supplementary</a> and the scripts are at <a href="https://jokergoo.github.io/cola_manuscript" class="uri">https://jokergoo.github.io/cola_manuscript</a>.</p>
</div>
<div id="vignettes" class="section level2">
<h2 class="hasAnchor">
<a href="#vignettes" class="anchor"></a>Vignettes</h2>
<ol>
<li><a href="http://bioconductor.org/packages/devel/bioc/vignettes/cola/inst/doc/a_quick_start.html">A Quick Start of Using cola Package</a></li>
<li><a href="http://bioconductor.org/packages/devel/bioc/vignettes/cola/inst/doc/cola.html">A Framework for Consensus Partitioning</a></li>
<li><a href="http://bioconductor.org/packages/devel/bioc/vignettes/cola/inst/doc/functional_enrichment.html">Automatic Functional Enrichment on Signature genes</a></li>
</ol>
</div>
<div id="consensus-partitioning" class="section level2">
<h2 class="hasAnchor">
<a href="#consensus-partitioning" class="anchor"></a>Consensus Partitioning</h2>
<p><img width="700" src="https://user-images.githubusercontent.com/449218/52628723-86af3400-2eb8-11e9-968d-b7f47a408818.png"></p>
<p>The steps of consensus partition is:</p>
<ol>
<li>Clean the input matrix. The processing are: adjusting outliers, imputing missing values and removing rows with very small variance. This step is optional.</li>
<li>Extract subset of rows with highest scores. Here “scores” are calculated by a certain method. For gene expression analysis or methylation data analysis, $n$ rows with highest variance are used in most cases, where the “method”, or let’s call it <strong>“the top-value method”</strong> is the variance (by <code><a href="https://rdrr.io/r/stats/cor.html">var()</a></code> or <code><a href="https://rdrr.io/r/stats/sd.html">sd()</a></code>). Note the choice of “the top-value method” can be general. It can be e.g. MAD (median absolute deviation) or any user-defined method.</li>
<li>Scale the rows in the sub-matrix (e.g. gene expression) or not (e.g. methylation data). This step is optional.</li>
<li>Randomly sample a subset of rows from the sub-matrix with probability $p$ and perform partition on the columns of the matrix by a certain partition method, with trying different numbers of subgroups.</li>
<li>Repeat step 4 several times and collect all the partitions.</li>
<li>Perform consensus partitioning analysis and determine the best number of subgroups which gives the most stable subgrouping.</li>
<li>Apply statistical tests to find rows that show significant difference between the predicted subgroups. E.g. to extract subgroup specific genes.</li>
<li>If rows in the matrix can be associated to genes, downstream analysis such as function enrichment analysis can be performed.</li>
</ol>
<div id="usage" class="section level3">
<h3 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h3>
<p>Three lines of code to perfrom <em>cola</em> analysis:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">mat =<span class="st"> </span><span class="kw"><a href="reference/adjust_matrix.html">adjust_matrix</a></span>(mat) <span class="co"># optional</span>
rl =<span class="st"> </span><span class="kw"><a href="reference/run_all_consensus_partition_methods.html">run_all_consensus_partition_methods</a></span>(
    mat, 
    <span class="dt">top_value_method =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"sd"</span>, <span class="st">"MAD"</span>, ...),
    <span class="dt">partition_method =</span> <span class="kw"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"hclust"</span>, <span class="st">"kmeans"</span>, ...),
    <span class="dt">mc.cores =</span> ...)
<span class="kw"><a href="reference/cola_report-dispatch.html">cola_report</a></span>(rl, <span class="dt">output_dir =</span> ...)</code></pre></div>
</div>
<div id="plots" class="section level3">
<h3 class="hasAnchor">
<a href="#plots" class="anchor"></a>Plots</h3>
<p>Following plots compare consensus heatmaps with k = 4 under all combinations of methods.</p>
<p><img src="https://user-images.githubusercontent.com/449218/52631118-3a66f280-2ebe-11e9-8dea-0172d9beab91.png"></p>
</div>
</div>
<div id="license" class="section level2">
<h2 class="hasAnchor">
<a href="#license" class="anchor"></a>License</h2>
<p>MIT @ Zuguang Gu</p>
<div id="acknowledgement" class="section level4">
<h4 class="hasAnchor">
<a href="#acknowledgement" class="anchor"></a>Acknowledgement</h4>
<p>The cola icon in logo is made by <a href="https://www.flaticon.com/authors/photo3idea-studio" title="photo3idea_studio">photo3idea_studio</a> from <a href="https://www.flaticon.com/" title="Flaticon">www.flaticon.com</a>.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from BIOC at <br><a href="https://www.bioconductor.org/packages/cola">https://​www.bioconductor.org/​packages/​cola</a>
</li>
<li>Browse source code at <br><a href="https://github.com/jokergoo/cola">https://​github.com/​jokergoo/​cola</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Zuguang Gu <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/jokergoo/cola"><img src="https://travis-ci.org/jokergoo/cola.svg" alt="Build Status"></a></li>
<li><a href="http://bioconductor.org/packages/stats/bioc/cola"><img src="https://bioconductor.org/shields/downloads/devel/cola.svg" alt="bioc"></a></li>
<li><a href="http://bioconductor.org/checkResults/devel/bioc-LATEST/cola/"><img src="http://bioconductor.org//shields/lastcommit/devel/bioc/cola.svg" alt="bioc"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Zuguang Gu.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
